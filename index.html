<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hogwarts & The Ministry: The Great Job Exchange</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=MedievalSharp&display=swap" rel="stylesheet">

<style>

:root{
--hogwarts-bg:#11111e;
--parchment:#fdf5e6;
--gryffindor-red:#740001;
--gold:#d3a625;
--ink:#2b1b17;
}

body{
background-color:var(--hogwarts-bg);
background-image:radial-gradient(#2a2a35 1px,transparent 1px);
background-size:20px 20px;
font-family:'MedievalSharp',cursive;
margin:0;
padding:20px;
}

.container{
max-width:1000px;
margin:auto;
background:var(--parchment);
padding:40px;
border-radius:12px;
border:4px solid var(--gold);
box-shadow:0 0 40px rgba(211,166,37,.4);
}

header{
text-align:center;
border-bottom:5px double var(--gryffindor-red);
margin-bottom:30px;
}

h1{
font-family:'Cinzel',serif;
color:var(--gryffindor-red);
font-size:3em;
}

h2{
color:var(--gryffindor-red);
border-bottom:2px solid var(--gold);
font-family:'Cinzel',serif;
}

.nav-tabs{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:12px;
margin-bottom:30px;
}

.tab-btn{
background:var(--gryffindor-red);
color:var(--gold);
border:2px solid var(--gold);
padding:12px 20px;
cursor:pointer;
font-family:'Cinzel';
border-radius:8px;
font-weight:bold;
}

.tab-btn.active,
.tab-btn:hover{
background:var(--gold);
color:var(--gryffindor-red);
}

.section-content{display:none;}
.section-content.active{display:block;}

.owl-letter{
background:#f4e8d1;
padding:25px;
border:2px solid #8b4513;
border-radius:6px;
font-style:italic;
}

/* ===== GIF ARREGLADO ===== */
.intro-img{
width:100%;
max-height:400px;
object-fit:cover;
border-radius:15px;
border:3px solid var(--gold);
margin-top:20px;
box-shadow:0 5px 15px rgba(0,0,0,.3);
}

.game-area{
background:#1a1a24;
color:white;
padding:35px;
border-radius:20px;
text-align:center;
border:4px solid var(--gold);
}

.game-btn{
background:var(--gold);
border:none;
padding:12px 24px;
margin:10px;
cursor:pointer;
font-weight:bold;
border-radius:8px;
}

.download-btn{
background:#006400;
color:white;
padding:15px;
width:100%;
margin-top:25px;
border:3px solid var(--gold);
font-size:1.2em;
cursor:pointer;
}

footer{
margin-top:40px;
text-align:center;
font-size:.9em;
border-top:2px solid var(--gryffindor-red);
padding-top:20px;
}

</style>
</head>

<body>

<div class="container">

<header>
<h1>The Great Job Exchange</h1>
<p style="font-size:1.3em;color:#740001;">A Collaborative Mission by the Ministry of Magic</p>
</header>

<div class="nav-tabs">
<button class="tab-btn active" onclick="openTab('intro')">Urgent Owl</button>
<button class="tab-btn" onclick="openTab('game')">O.W.L. Exams</button>
<button class="tab-btn" onclick="openTab('certificate')">Certificate</button>
</div>

<!-- ================= INTRO ================= -->
<div id="intro" class="section-content active">

<h2>Urgent Message from the Minister!</h2>

<div class="owl-letter">
<p>Dear Students of Hogwarts,</p>

<p>The Muggle world and the Magical world are mixing!</p>

<p>You must investigate jobs from both worlds and save the Statute of Secrecy.</p>

<p style="text-align:right;">— Hermione Granger, Minister for Magic</p>
</div>

<!-- ✅ GIF FUNCIONANDO -->
<img class="intro-img"
src="https://media.giphy.com/media/l0HlQ7LRalQqdWfao/giphy.gif"
alt="Ministry of Magic">

</div>

<!-- ================= GAME ================= -->
<div id="game" class="section-content">

<h2>O.W.L. Exams</h2>

<div class="game-area">

<h3 id="question-text">Ready?</h3>

<div id="answers-container"></div>

<p>Points: <span id="score">0</span></p>

<button id="start-btn" class="game-btn" onclick="startGame()">Start</button>

</div>
</div>

<!-- ================= CERTIFICATE ================= -->
<div id="certificate" class="section-content">

<h2>Magical Certificate</h2>

<input id="team-name" placeholder="Team Name">
<input id="wizard-1" placeholder="Student Name">

<button class="download-btn" onclick="generateCertificate()">Download Certificate</button>

</div>

<footer>
<p>Created by Jesús Moreno Velasco</p>
</footer>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>

function openTab(tabId){
document.querySelectorAll(".section-content")
.forEach(t=>t.classList.remove("active"));
document.getElementById(tabId).classList.add("active");

document.querySelectorAll(".tab-btn")
.forEach(b=>b.classList.remove("active"));
event.currentTarget.classList.add("active");
}

const questions=[
{q:"Hagrid works in the forest, ___ ?",a:["doesn't he","isn't he","does he"],c:0},
{q:"A mechanic works in a...",a:["Garage","School","Hospital"],c:0}
];

let currentQ=0,score=0;

function startGame(){
currentQ=0;score=0;
document.getElementById("score").innerText=0;
loadQuestion();
}

function loadQuestion(){

if(currentQ>=questions.length){
document.getElementById("question-text").innerText="Exam Finished!";
document.getElementById("answers-container").innerHTML="";
return;
}

let q=questions[currentQ];
document.getElementById("question-text").innerText=q.q;

let container=document.getElementById("answers-container");
container.innerHTML="";

q.a.forEach((ans,i)=>{
let btn=document.createElement("button");
btn.className="game-btn";
btn.innerText=ans;
btn.onclick=()=>{
if(i===q.c) score++;
document.getElementById("score").innerText=score;
currentQ++;
loadQuestion();
};
container.appendChild(btn);
});
}

function generateCertificate(){

const team=document.getElementById("team-name").value;
const wizard=document.getElementById("wizard-1").value;

if(!team||!wizard){
alert("Fill all fields");
return;
}

const {jsPDF}=window.jspdf;
const doc=new jsPDF({orientation:'landscape'});

doc.setFontSize(30);
doc.text("Hogwarts Certificate",150,40,{align:"center"});

doc.setFontSize(20);
doc.text(team,150,80,{align:"center"});
doc.text(wizard,150,110,{align:"center"});

doc.save("certificate.pdf");
}

</script>

</body>
</html>
