<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hogwarts & The Ministry: The Great Job Exchange</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=MedievalSharp&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --hogwarts-bg: #11111e;
            --parchment: #fdf5e6;
            --gryffindor-red: #740001;
            --gold: #d3a625;
            --ink: #2b1b17;
        }

        body {
            background-color: var(--hogwarts-bg);
            background-image: radial-gradient(#2a2a35 1px, transparent 1px);
            background-size: 20px 20px;
            font-family: 'MedievalSharp', cursive;
            color: var(--ink);
            margin: 0;
            padding: 20px;
            font-size: 18px;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: var(--parchment);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 0 40px rgba(211, 166, 37, 0.4);
            border: 4px solid var(--gold);
            position: relative;
        }

        header {
            text-align: center;
            border-bottom: 5px double var(--gryffindor-red);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        h1 {
            font-family: 'Cinzel', serif;
            color: var(--gryffindor-red);
            font-size: 3.2em;
            margin: 10px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.15);
        }

        h2 { color: var(--gryffindor-red); border-bottom: 2px solid var(--gold); font-family: 'Cinzel', serif; }

        .nav-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 35px;
        }

        .tab-btn {
            background-color: var(--gryffindor-red);
            color: var(--gold);
            border: 2px solid var(--gold);
            padding: 12px 20px;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            border-radius: 8px;
            font-weight: bold;
            transition: 0.3s;
        }

        .tab-btn.active {
            background-color: var(--gold);
            color: var(--gryffindor-red);
        }

        .section-content { display: none; animation: fadeIn 0.6s; }
        .section-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .owl-letter {
            background-color: #f4e8d1;
            border: 2px solid #8b4513;
            padding: 25px;
            margin: 20px 0;
            border-radius: 5px;
            font-style: italic;
        }

        .task-box {
            background-color: rgba(211, 166, 37, 0.15);
            border-left: 6px solid var(--gryffindor-red);
            padding: 20px;
            margin-bottom: 25px;
        }

        .grammar-scroll {
            background: #fff9e8;
            border: 2px dashed var(--gold);
            padding: 20px;
            margin: 20px 0;
            border-radius: 15px;
        }

        .game-area {
            background-color: #1a1a24;
            color: #fff;
            padding: 35px;
            border-radius: 20px;
            text-align: center;
            border: 4px solid var(--gold);
        }

        .game-btn {
            background-color: var(--gold);
            color: var(--ink);
            padding: 14px 28px;
            margin: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'MedievalSharp';
            font-weight: bold;
            border: none;
        }

        .intro-img {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 15px;
            border: 3px solid var(--gold);
            margin-top: 20px;
            display: block;
        }

        /* Certificate Styles */
        .certificate-form label { display: block; margin-top: 20px; font-weight: bold; }
        .certificate-form input {
            width: 100%; padding: 12px; margin-top: 8px;
            border: 2px solid var(--gryffindor-red); border-radius: 5px;
            background: #fff; font-family: 'MedievalSharp';
        }
        .download-btn {
            background-color: #006400; color: white; padding: 15px;
            border: 3px solid var(--gold); border-radius: 10px; width: 100%;
            margin-top: 30px; cursor: pointer; font-family: 'Cinzel'; font-weight: bold;
        }

        footer { margin-top: 50px; text-align: center; border-top: 2px solid var(--gryffindor-red); padding-top: 20px; }
        .highlight { color: var(--gryffindor-red); font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>The Great Job Exchange</h1>
        <p>A Collaborative Mission by the Ministry of Magic</p>
    </header>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="openTab('intro')">Urgent Owl</button>
        <button class="tab-btn" onclick="openTab('grammar')">Magic Spells</button>
        <button class="tab-btn" onclick="openTab('task')">Team Mission</button>
        <button class="tab-btn" onclick="openTab('process')">The Plan</button>
        <button class="tab-btn" onclick="openTab('game')">O.W.L. Exams</button>
        <button class="tab-btn" onclick="openTab('certificate')">Certificate</button>
    </div>

    <div id="intro" class="section-content active">
        <h2>Urgent Message from the Minister!</h2>
        <div class="owl-letter">
            <p>"Dear Students of Hogwarts,</p>
            <p>Muggles and Wizards are mixing. We need your help to compare jobs! Form your teams and investigate."</p>
            <p style="text-align: right;">â€” Hermione Granger, Minister for Magic</p>
        </div>
        <img class="intro-img" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM2ZicWp2Zmt1ZW93NHJueXF4eXJyeXN4eXJyeXN4eXJyeXN4eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VvS6pgfLqzHUI/giphy.gif" alt="Ministry of Magic Entrance">
    </div>

    <div id="grammar" class="section-content">
        <h2>The Magic of Language</h2>
        <div class="grammar-scroll">
            <h3>ðŸ“œ Tag Questions</h3>
            <p>Hagrid is a Gamekeeper, <span class="highlight">isn't he?</span></p>
        </div>
        <div class="grammar-scroll">
            <h3>ðŸ“œ Past Continuous</h3>
            <p>I <span class="highlight">was working</span> in the office at 10:00.</p>
        </div>
    </div>

    <div id="task" class="section-content">
        <h2>Your Team Mission</h2>
        <div class="task-box">
            <h3>1. The Daily Prophet Poster</h3>
            <p>Create a newspaper cover with 2 Muggle jobs and 2 Magical jobs.</p>
        </div>
    </div>

    <div id="process" class="section-content">
        <h2>Step-by-Step</h2>
        <p>1. Form groups. 2. Research jobs on page 69-72. 3. Prepare your poster. 4. Present it!</p>
    </div>

    <div id="game" class="section-content">
        <h2>O.W.L. Exams: 20 Questions</h2>
        <div class="game-area">
            <h3 id="question-text">Ready?</h3>
            <div id="answers-container"></div>
            <p id="result-msg"></p>
            <p>Points: <span id="score">0</span> / 20</p>
            <button id="start-btn" class="game-btn" onclick="startGame()">Start Exam</button>
        </div>
    </div>

    <div id="certificate" class="section-content">
        <h2>Magical Certificate of Completion</h2>
        <div class="certificate-form">
            <label>Team Name:</label>
            <input type="text" id="team-name" placeholder="Enter Team Name">
            <label>Student 1:</label>
            <input type="text" id="wizard-1" placeholder="Student Name">
            <label>Student 2:</label>
            <input type="text" id="wizard-2" placeholder="Student Name">
            <button class="download-btn" onclick="generateCertificate()">Download Magical Certificate</button>
        </div>
    </div>

    <footer>
        <p>Unit: The World of Work | <strong>Created by JesÃºs Moreno Velasco</strong></p>
    </footer>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    function openTab(tabId) {
        var contents = document.getElementsByClassName('section-content');
        for (var i = 0; i < contents.length; i++) contents[i].classList.remove('active');
        var buttons = document.getElementsByClassName('tab-btn');
        for (var i = 0; i < buttons.length; i++) buttons[i].classList.remove('active');
        document.getElementById(tabId).classList.add('active');
        if (event) event.currentTarget.classList.add('active');
    }

    // Quiz Logic (20 questions)
    const allQuestions = [
        { q: "Hagrid works in the forest, _______?", a: ["doesn't he", "isn't he", "does he"], c: 0 },
        { q: "A journalist works for a...", a: ["Hospital", "Newspaper", "Greenhouse"], c: 1 },
        { q: "Yesterday, Sprout ______ (plant) mandrakes.", a: ["was planting", "were planting", "is planting"], c: 0 },
        { q: "Where does a mechanic work?", a: ["Garage", "Ministry", "School"], c: 0 },
        { q: "You are a Healer, _______?", a: ["don't you", "aren't you", "do you"], c: 1 },
        { q: "A pilot works in an...", a: ["Office", "Airport", "Train Station"], c: 1 },
        { q: "Hagrid is a...", a: ["Auror", "Journalist", "Gamekeeper"], c: 2 },
        { q: "Madam Pomfrey works in a hospital, _______?", a: ["isn't she", "doesn't she", "does she"], c: 1 },
        { q: "Aurors ______ (wear) uniforms yesterday.", a: ["was wearing", "were wearing", "are wearing"], c: 1 },
        { q: "A firefighter works in a...", a: ["Fire station", "Dungeon", "Shop"], c: 0 },
        { q: "You can ride a broom, _______?", a: ["don't you", "can't you", "aren't you"], c: 1 },
        { q: "They ______ (build) a factory.", a: ["was building", "were building", "are building"], c: 1 },
        { q: "Professor Sprout is a teacher, _______?", a: ["doesn't she", "isn't she", "is she"], c: 1 },
        { q: "A Potion Master works in a...", a: ["Laboratory", "Park", "Airport"], c: 0 },
        { q: "It is cold, _______?", a: ["isn't it", "doesn't it", "is it"], c: 0 },
        { q: "We ______ (not / sleep) at 10:00.", a: ["wasn't sleeping", "weren't sleeping", "aren't sleeping"], c: 1 },
        { q: "Who writes for the Daily Prophet?", a: ["Pilot", "Journalist", "Healer"], c: 1 },
        { q: "You live in London, _______?", a: ["aren't you", "don't you", "do you"], c: 1 },
        { q: "What ______ Hermione doing?", a: ["was", "were", "is"], c: 0 },
        { q: "Nurses work in a...", a: ["School", "Hospital", "Factory"], c: 1 }
    ];

    let currentQ = 0; let score = 0;
    function startGame() { currentQ = 0; score = 0; document.getElementById('start-btn').style.display = "none"; loadQuestion(); }
    function loadQuestion() {
        const container = document.getElementById('answers-container');
        if (currentQ >= allQuestions.length) {
            document.getElementById('question-text').innerText = "Finished! Score: " + score;
            container.innerHTML = ""; document.getElementById('start-btn').style.display = "inline-block"; return;
        }
        const qData = allQuestions[currentQ];
        document.getElementById('question-text').innerText = qData.q;
        container.innerHTML = "";
        qData.a.forEach((ans, i) => {
            const btn = document.createElement('button'); btn.innerText = ans; btn.className = 'game-btn';
            btn.onclick = () => { if(i === qData.c) score++; currentQ++; loadQuestion(); document.getElementById('score').innerText = score; };
            container.appendChild(btn);
        });
    }

    // Certificate Logic (Original Style)
    function generateCertificate() {
        const teamName = document.getElementById('team-name').value;
        const wizard1 = document.getElementById('wizard-1').value;
        const wizard2 = document.getElementById('wizard-2').value;
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF({ orientation: 'landscape', unit: 'mm', format: 'a4' });
        const width = doc.internal.pageSize.getWidth();
        const height = doc.internal.pageSize.getHeight();
        doc.setFillColor(253, 245, 230); doc.rect(0, 0, width, height, 'F');
        doc.setLineWidth(3); doc.setDrawColor(116, 0, 1); doc.rect(10, 10, width - 20, height - 20, 'S');
        doc.setFont('times', 'bold'); doc.setTextColor(116, 0, 1); doc.setFontSize(30);
        doc.text("Hogwarts School of Witchcraft and Wizardry", width / 2, 35, { align: 'center' });
        doc.setFontSize(20); doc.text("MAGICAL CAREER PROFICIENCY CERTIFICATE", width / 2, 50, { align: 'center' });
        doc.setFont('times', 'normal'); doc.setTextColor(43, 27, 23); doc.setFontSize(18);
        doc.text("This certifies that the team:", width / 2, 75, { align: 'center' });
        doc.setFontSize(28); doc.text(teamName.toUpperCase(), width / 2, 90, { align: 'center' });
        doc.setFontSize(20); doc.text(wizard1 + (wizard2 ? ' and ' + wizard2 : ''), width / 2, 120, { align: 'center' });
        doc.setFontSize(18); doc.text("Completed the 'World of Work' WebQuest.", width / 2, 150, { align: 'center' });
        doc.text("Headmaster Dumbledore", 40, 190); doc.text("Prof. JesÃºs Moreno", width - 80, 190);
        doc.save(`Certificate_${teamName}.pdf`);
    }
</script>
</body>
</html>
